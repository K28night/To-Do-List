<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>To Do List</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Andada+Pro:ital,wght@0,400..840;1,400..840&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../css/index.css">
    <link rel="stylesheet" href="../css/login.css">
    <link rel="stylesheet" href="../css/register.css">
</head>
<body>
    <header>
        <div class="logo">
            <h2>To-Do List</h2>
        </div>
        <div class="links">
            <a href="index.html">Home</a> 
            <a href="about.html">About</a>
            <a href="./login.html" id="login" title="first you complete the registration">Login</a></div>
            <!-- <button class="login" onclick="window.location.href='login.html'" id="login">Login</button> -->
    </header>
    <div class="form-heading">
    </div>
        <div class="form">
            
            <form action="register.html" method="GET" id="form">
                <h2>Register</h2>
                <p id="registered">if you are registered then <a href="./login.html">Login</a></p>
                <small id="message"></small>
                <input type="text" name="name" placeholder="Name" id="name" required><br>
                <small class="name" id="name_err">Enter the name of user</small>
                <input type="email" name="email" placeholder="UserName" id="username" required><br>
                <small class="email" id="email_error">Enter the Gmail as username</small>
                <input type="password" id="pass" name="pass" title="password" placeholder="Password"required><br>
                <small class="email" id="pass1">Password Must be 8 characters</small>
                <input type="submit" name="submit" id="submit" value="Submit">
            </form>
        </div>
</body>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
      let users =localStorage.getItem('users')
      $('#registered').text(users)
    $('#username').on('input',()=>{
        let email=$('#username').val();
        let email_error=$('#email_error');
        const gmailRegex = /^[a-zA-Z0-9._%+-]+@gmail\.com$/;
        if(!gmailRegex.test(email)){
            email_error.removeClass('success').addClass('danger');
            email_error.text('Enter valide Gmail');
            $('#submit').prop("disabled", true);
        }
        else if(email==""){
            email_error.removeClass('success').addClass('danger');
            email_error.text('Name is cannot be null');
            $('#submit').prop("disabled", true);
        }
        else{
            email_error.removeClass('danger').addClass('success')
            email_error.text('Gmail Validation Success')
            $('#submit').prop("disabled", false);
        }
    });

       $('#name').on('input',()=>{
        let name=$('#name').val();
        let name_error=$('#name_err');
        var regex = /\d/
        if(regex.test(name)){
            name_error.removeClass('success').addClass('danger');
            name_error.text('Name is not contain numbers');
            $('#submit').prop("disabled", true);
        }
        else if(name==""){
            name_error.removeClass('success').addClass('danger');
            name_error.text('Name is cannot be null');
            $('#submit').prop("disabled", true);
        }
        else{
            name_error.addClass('success');
            name_error.text('Valid Name validation success');
            $('#submit').prop("disabled", false);
        }
       });
       $('#pass').on('input',()=>{
        let pass=$('#pass').val();
        let pass1=$('#pass1');
        const passwordRegex = /^(?=.*[A-Z])(?=.*[a-z]).{8,}$/;
        var regex = /\d/
        if(pass.length<8){
           pass1.removeClass('success').addClass('danger');
           pass1.text('Password must contain 8 characters');
           $('#submit').prop("disabled", true);
        }
        else if(!passwordRegex.test(pass)){
            pass1.removeClass('success').addClass('danger');
            pass1.text('have one capital and small letters');
            $('#submit').prop("disabled",true);
        }
        else if(!regex.test(pass)){
           pass1.removeClass('success').addClass('danger');
           pass1.text('password must contain numbers')
           $('#submit').prop("disabled", true);
        }
        else{
            pass1.removeClass('danger').addClass('success');
            pass1.text('Password Validation Success');
            $('#submit').prop("disabled", false);
        }
    });
    $('#submit').click(function() {
    let users = JSON.parse(localStorage.getItem('users')) || [];
    let name = $('#name').val();
    let email = $('#username').val();
    let pass = $('#pass').val();

    var userData = {
        name: name,
        email: email,
        password: pass
    };
   
    users.push(userData);
    localStorage.setItem("users", JSON.stringify(users)); 
    window.location.href='login.html'
    $('#registered').addClass('success');
    $('#registered').text('Registration Success');
    
   
});


    
    // document.getElementById("submit").addEventListener("click",()=>{
    //    let name=(document.getElementById('username'))?document.getElementById('username').value:'';
    //    let discription=(document.getElementById('task_dis'))?document.getElementById('task_dis').value:'';
    //    let datetime=(document.getElementById('pass'))?document.getElementById('pass').value:'';
    //    const currentdate=new Date()
    //    let current=currentdate.toISOString().slice(0,16);//to convert the datetime to ISO 8601 format(YYYY-MM-DDTHH:mm:ss.sssZ)year-month-day-hours:minits:seconds.3-digit milliseconds.time is in UTC
    //    //  example  2025-04-01T10:30:45.123Z
    //    if(current>datetime){
    //     let msg=document.getElementById('message')
    //     msg.text('Date not to be in past');
    //     msg.css('color','red');
    //    }
    // });
</script>
</html>